IM_SIMPLE: mem[0]=0000028f mem[1]=01410005 mem[2]=00c20005 mem[3]=00030424 mem[4]=00000000
===== CONTROL UNIT TESTBENCH =====
Checking all 11 opcodes and control signals...

EX_STAGE @0 PC=xxxxxxxx MEM_WRITE=z
Test 1 - NOP (0000):
  reg_write=0, mem_to_reg=0, mem_write=0, alu_src=0, alu_op=000, branch=0, jump=0
  Expected: reg_write=0, mem_write=0, branch=0, jump=0
  PASS

Test 2 - SVPC (1111):
  reg_write=1, mem_to_reg=0, mem_write=0, alu_src=1, alu_op=000
  Expected: reg_write=1, mem_to_reg=0, mem_write=0, alu_src=1 (immediate)
  PASS

Test 3 - LD (1110):
  reg_write=1, mem_to_reg=1, mem_write=0, alu_src=1
  Expected: reg_write=1, mem_to_reg=1, mem_write=0, alu_src=1 (immediate for address)
  PASS

Test 4 - ST (0011):
  reg_write=0, mem_write=1, alu_src=1
  Expected: reg_write=0, mem_write=1, alu_src=1 (immediate for address)
  PASS

Test 5 - ADD (0100):
  reg_write=1, mem_write=0, alu_src=0, alu_op=000
  Expected: reg_write=1, mem_write=0, alu_src=0 (register), alu_op=000 (add)
  PASS

Test 6 - INC (0101):
  reg_write=1, mem_write=0, alu_src=1, alu_op=000
  Expected: reg_write=1, mem_write=0, alu_src=1 (immediate)
  PASS

Test 7 - NEG (0110):
  reg_write=1, mem_write=0, alu_op=110
  Expected: reg_write=1, mem_write=0, alu_op=110 (negate)
  PASS

Test 8 - SUB (0111):
  reg_write=1, mem_write=0, alu_op=101
  Expected: reg_write=1, mem_write=0, alu_op=101 (subtract)
  PASS

Test 9 - J (1000):
  reg_write=0, mem_write=0, branch=0, jump=1
  Expected: reg_write=0, mem_write=0, jump=1
  PASS

Test 10 - BRZ (1001):
  reg_write=0, mem_write=0, branch=1
  Expected: reg_write=0, mem_write=0 (branch signal depends on Z flag in datapath)
  PASS

Test 11 - BRN (1010):
  reg_write=0, mem_write=0, branch=1
  Expected: reg_write=0, mem_write=0 (branch signal depends on N flag in datapath)
  PASS

===================================
groupproject/groupproject.srcs/sim_1/new/tb_controlunit.v:141: $finish called at 55000 (1ps)
